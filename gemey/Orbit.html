<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <link href="css/style.css" rel="stylesheet" />
    <script type="text/javascript" src="js/jquery-3.1.1.js"></script>
    <!--<script src="js/main.js"></script>-->
</head>
<body>
    <div id="containerId" class="container" >

            
    </div>

    <script>
        
        $(document).ready(function () {

            //------------ BaseComponent Class
            function BaseComponent() {
                this.X = 0;
                this.Y = 0;
                this.Id = "";        //Id will represented in css as (<div id="classType_indexOfArrary">)
                this.LifeTime = 1;
                this.Type = ""; // (player,Enemy,Health) reserved
                this.Radious = 0;
                this.Direction = 0;    //1:clockwise   -1:anticlockwise    0:sleep
                this.ClassType=""
                this.Create = function () {
                    console.log(this);
                    var newDiv = document.createElement("div");
                    $(newDiv).attr("class", this.ClassType);
                    $(newDiv).attr("id", this.Id);
                    $(newDiv).css("left", (this.X));
                    $(newDiv).css("top", (this.Y));
                    console.log(newDiv);
                    $("#containerId").append(newDiv);
                }
                this.Destory = function () {
                    //delet object from memroy 
                    delete this;
                    //remove div element by Id
                }
            }

            //--------------------------- MyShip Class
            function MyShip(_x, _y, _classUniqu, _id, _lifeTime, _type, _direction) {
                this.X = _x;
                this.Y = _y;
                this.Id = "myship";   //constant class in css
                this.LifeTime = _lifeTime;
                this.Type = "player"; //reserved
                this.Radious = _radius;
                this.Direction = _direction;
                this.ClassType="";
                this.DetectCollistion = function () {
                    console.log("my ship just hit Object");
                }
            } MyShip.prototype = new BaseComponent;

            //--------------------------- Enemy Classes
            //-------------Sleep Enemy Class
            function SleepEnemy(_x, _y, _index, _lifeTime, _radius, _direction) {
                this.X = _x;
                this.Y = _y;
                this.Id = "sleepEnemy" + _index;
                this.LifeTime = _lifeTime;
                this.Type = "Enemy";//reserved
                this.Radious = _radius;
                this.Direction = 0;
                this.ClassType="";
                this.Rotat = function () {
                    // I thing rotation will be done by css to all sleep enemies ex: class="sleepEnemy"
                }
            } SleepEnemy.prototype = new BaseComponent;
            //-------------Movable Enemy Class
            function MovableEnemy(_x, _y, _index, _lifeTime, _radius, _direction) {
                this.Position.X = _x;
                this.Position.Y = _y;
                this.Id = "movableEnemy" + _index;
                this.LifeTime = _lifeTime;
                this.Type = "Enemy";//reserved
                this.Radious = _radius;
                this.Direction = _direction;
                this.ClassType="";
                this.Move = function () {
                    //will move in virsual circle randomly
                }
            } MovableEnemy.prototype = new BaseComponent;
            //-------------Tracker Enemy Class
            function TrackerEnemy(_x, _y, _index, _lifeTime, _radius, _direction) {
                this.Position.X = _x;
                this.Position.Y = _y;
               this.Id = "trackerEnemy" + _index;
                this.LifeTime = _lifeTime;
                this.Type = "Enemy";//reserved
                this.Radious = _radius;
                this.Direction = _direction;
                this.ClassType="";
                this.TrackShipPlayer = function () {
                    //will track ship player in constant speed
                }
            } TrackerEnemy.prototype = new BaseComponent;

            //--------------------------- Health Classes
            //-------------Sleep Health Class
            function SleepHealth(_x, _y, _index, _radius, _direction) {
                this.X = _x;
                this.Y = _y;
                this.Id = "sleepHealth" + _index;
                this.LifeTime = 15;
                this.Type = "Health";//reserved
                this.Radious = _radius;
                this.Direction = 0;
                this.ClassType = "healthcircle";
                this.Rotat = function () {
                    // I thing rotation will be done by css to all sleep Health ex: class="sleepHealth"
                }
            } SleepHealth.prototype = new BaseComponent;
            //-------------Movable Health Class
            function MovableHealth(_x, _y, _index, _lifeTime, _radius, _direction) {
                this.X = _x;
                this.Y = _y;
                this.Id = "movableHealth" + _index;
                this.LifeTime = _lifeTime;
                this.Type = "Health";//reserved
                this.Radious = _radius;
                this.Direction = _direction;
                this.ClassType="";
                this.Move = function () {
                    //will move in spiral move to center same way of myShip object
                }
            } MovableHealth.prototype = new BaseComponent;
            //-------------Triangle Health Class
            function TriangleHealth(_x, _y, _index, _lifeTime, _radius, _direction) {
                this.X = _x;
                this.Y = _y;
                this.Id = "triangleHealth" + _index;
                this.LifeTime = _lifeTime;
                this.Type = "Health";//reserved
                this.Radious = _radius;
                this.Direction = _direction;
                this.ClassType="";
                this.Move = function () {
                    //will move in virsual circle randomly.
                }
            } TriangleHealth.prototype = new BaseComponent;

            //--------------------------- Container Object
            var container = {
                X: parseInt(($("#containerId").width()) / 2),
                Y: parseInt(($("#containerId").height()) / 2),
                radius: parseInt(($("#containerId").width()) / 2),
                CreatCenter: function () {
                    var newDiv = document.createElement("div");
                    $(newDiv).attr("class","divCenter");
                    $(newDiv).attr("id", "idDivCenter");
                    $(newDiv).css("left", (this.X - 38));
                    $(newDiv).css("top", (this.Y - 38));
                    $("#containerId").append(newDiv);
                },
                DetectCollision: function () {
                    //here where conatainer detect if collision happen or not
                }
            };
            //--------------- Get random Point in Circle
            function GetRandomPoint(centerX, centerY,MaxRadius,MinRadius) {
                var x, y;
                do {
                    var x = GetRandomNumber(centerX - MaxRadius, centerX + MaxRadius);
                    var y = GetRandomNumber(centerY - MaxRadius, centerY + MaxRadius);
                    var distance = Math.sqrt(Math.pow((centerX - x), 2) + Math.pow((centerY - y), 2));//distance between point and center
                } while (distance > MaxRadius || distance < MinRadius);
                return { X: x, Y: y };
            }
            function GetRandomNumber(min, max) {
                return Math.floor(Math.random() * (max - min) + min);       //min (inclusive) and max (exclusive)
            }

            //--------------------------Main
            function Main() {
                container.CreatCenter();

                for (var i = 0; i < 5; i++) {
                    var pos = GetRandomPoint(container.X, container.Y, container.radius - 30, container.radius - 232);
                    var p1 = new SleepHealth(pos.X, pos.Y, 1, 20, 1);
                    p1.Create();
                }
            }
            Main();
        });
    </script>
</body>
</html>